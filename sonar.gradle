jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled true
    }
}

test.finalizedBy jacocoTestReport

sonarqube {
    properties {
        property 'sonar.projectName', 'Lhotse - storage'
        property 'sonar.projectKey', 'everest-engineering_lhotse-storage'
        property 'sonar.organization', 'everestengineering'
        property 'sonar.host.url', 'https://sonarcloud.io'
        property 'sonar.test.exclusions', '**/*Test.java'
    }
}

tasks['sonarqube'].dependsOn test
